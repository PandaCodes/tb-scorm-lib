var scormRte=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o=i(r),a={PARSE_XML:"Error occured while parsing imsmanifest.xml",FORMAT_XML:"Wrong imsmanifest.xml format"},s=null,l=null,c=null,u=null,m=!1,f=function(){if(m&&console){var e;(e=console).log.apply(e,arguments)}};t.default={init:function(e,t,n){return l=document.createElement("iframe"),l.style.width="100%",l.style.height="100%",document.getElementById(e).appendChild(l),m=n.debug,fetch(t+"/imsmanifest.xml").then(function(e){return e.text().then(function(e){s=(new DOMParser).parseFromString(e,"text/xml"),"parsererror"===s.documentElement.nodeName&&f(a.PARSE_XML),c=s.getElementsByTagName("resources")[0].getElementsByTagName("resource"),u=s.getElementsByTagName("organization")[0].getElementsByTagName("item");var i=s.getElementsByTagName("manifest")[0],r=i?i.getAttribute("xmlns:imsss"):"",m=i?i.getAttribute("xmlns:adlcp"):"",d=u[0]?u[0].getElementsByTagNameNS(r,"sequencing")[0]:null,g=d?d.getElementsByTagNameNS(r,"objectives")[0]:null,p=g?g.getElementsByTagNameNS(r,"objective"):[];p=[].map.call(p,function(e){return{id:e.getAttribute("objectiveID")}});var _=u[0]?u[0].getElementsByTagNameNS(m,"datafromlms")[0]:null,v=_?_.childNodes[0].nodeValue:null,E=s.getElementsByTagName("schemaversion")[0].childNodes[0].nodeValue;f("Schema version",E);var h="1.2"===E||"1.1"===E?"1.2":"2004";return o.default.init(Object.assign({},n,{schemaVersion:h,initModel:{objectives:p,launch_data:v},callbacks:{onTerminate:function(){l.src=""}}})).then(function(){var e=u[0].getAttribute("identifierref"),n=[].find.call(c,function(t){return t.getAttribute("identifier")===e});l.src=t+"/"+n.getAttribute("href")})})})}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getJSONString=t.entry=t.exit=t.getResults=t.set=t.get=t.restore=t.init=void 0;var r=n(4),o=i(r),a={},s="2004",l={1.2:{"cmi.core.lesson_mode":"normal","cmi.core.entry":"ab-initio","cmi.core.lesson_status":"not attempted","cmi.core.lesson_location":""},2004:{"cmi._version":o.default.version,"cmi.mode":"normal","cmi.entry":"ab-initio","cmi.success_status":"unknown","cmi.completion_status":"unknown","cmi.location":""}},c={1.2:{enry:"cmi.core.entry",exit:"cmi.core.exit",score_raw:"cmi.core.score.raw",score_max:"cmi.core.score.max",score_min:"cmi.core.score.min",session_time:"cmi.core.session_time",total_time:"cmi.core.total_time"},2004:{entry:"cmi.entry",exit:"cmi.exit",score_raw:"cmi.score.raw",score_max:"cmi.score.max",score_min:"cmi.score.min",session_time:"cmi.session_time",total_time:"cmi.total_time"}},u=function(e){var t=e.objectives,n=e.launch_data,i=e.total_time,r={};return i&&(r[c[s].total_time]=i),n&&(r["cmi.launch_data"]=n),t&&Array.isArray(t)&&(r["cmi.objectives._children"]="id,score,success_status,completion_status,description",r["cmi.objectives._count"]=t.length,t.map(function(e,t){return r["cmi.objectives."+t+".id"]=e.id,null})),r};t.init=function(e,t){s="1.2"===e?"1.2":"2004";var n=u(t);a=Object.assign({},l[s],n)},t.restore=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a=Object.assign({},JSON.parse(e),u(t))},t.get=function(e){return a[e]},t.set=function(e,t){a[e]=t},t.getResults=function(){var e=c[s],t=void 0,n=void 0;return"1.2"===s?(t=["completed","incomplete","not attempted"].indexOf(a["cmi.core.completion_status"])>=0?a["cmi.core.lesson_status"]:"unknown",n=["passed","failed"].indexOf(a["cmi.core.lesson_status"])>=0?a["cmi.core.lesson_status"]:"unknown"):(t=a["cmi.completion_status"],n=a["cmi.success_status"]),{score_raw:a[e.score_raw],score_max:a[e.score_max],score_min:a[e.score_min],session_time:a[e.session_time],total_time:a[e.total_time],success_status:n,completion_status:t}},t.exit=function(){return a[c[s].exit]},t.entry=function(e){return["ab-initio","resume",""].indexOf(e)>=0?(a[c[s].entry]=e,e):a[c[s].entry]},t.getJSONString=function(){return JSON.stringify(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={1.2:{0:"No error",101:"General Exception",201:"Invalid argument error",202:"Element cannot have children",203:"Element not an array. Cannot have count",301:"Not initialized",401:"Not implemented error",402:"Invalid set value, element is a keyword",403:"Element is read only",404:"Element is write only",405:"Incorrect Data Type"},2004:{0:"No error",101:"General Exception",102:"General Initialization Failure",103:"Already Initialized",104:"Content Instance Terminated",111:"General Termination Failure",112:"Termination Before Initialization",113:"Termination After Termination",122:"Retrieve Data Before Initialization",123:"Retrieve Data After Termination",132:"Store Data Before Initialization",133:"Store Data After Termination",142:"Commit Before Initialization",143:"Commit After Termination",201:"General Argument Error",301:"General Get Failure",351:"General Set Failure",391:"General Commit Failure",401:"Undefined Data Model Element",402:"Unimplemented Data Model Element",403:"Data Model Element Value Not Initialized",404:"Data Model Element Is Read Only",405:"Data Model Element Is Write Only",406:"Data Model Element Type Mismatch",407:"Data Model Element Value Out Of Range",408:"Data Model Dependency Not Established",1e3:"General communication failure"}},r=(t.getErrorStrings=function(e){return i[e]},{2004:{Initialize:"Initialize",Terminate:"Terminate",GetValue:"GetValue",SetValue:"SetValue",Commit:"Commit",GetLastError:"GetLastError",GetErrorString:"GetErrorString",GetDiagnostic:"GetDiagnostic"},1.2:{Initialize:"LMSInitialize",Terminate:"LMSFinish",GetValue:"LMSGetValue",SetValue:"LMSSetValue",Commit:"LMSCommit",GetLastError:"LMSGetLastError",GetErrorString:"LMSGetErrorString",GetDiagnostic:"LMSGetDiagnostic"}});t.getFunctionNames=function(e){return r[e]}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.stringEndsWith=void 0;var r=n(2),o=i(r),a=n(1),s=i(a),l={NOT_INITIALIZED:"Not Initialized",RUNNING:"Running",TERMINATED:"Terminated"},c=null,u=0,m=/^(cmi||adl)\.(\w|\.)+$/,f=t.stringEndsWith=function(e,t){return e.length>=t.length&&e.substr(e.length-t.length)===t},d=function(e){return 0===(u=0===e.search(m)?0:401)},g=function(e){return u=0,f(e,"._children")&&(u=403),0===u},p=function(e,t){return 0===(u=c===l.NOT_INITIALIZED?e:c===l.TERMINATED?t:0)};t.default={init:function(e){var t=e.dataUrl,n=e.schemaVersion,i=void 0===n?"2004":n,r=e.debug,a=void 0!==r&&r,m=e.autoCommitInterval,f=void 0===m?-1:m,_=e.callbacks,v=e.initModel;c=l.NOT_INITIALIZED;var E=function(){if(a&&console){var e;(e=console).log.apply(e,arguments)}},h=t?function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return fetch(t,{method:"POST",body:JSON.stringify({cmiString:e?s.getJSONString():"",results:s.getResults()})})}:Promise.resolve;return s.init(i,v),(t?fetch(t).then(function(e){return e.json()}).then(function(e){E("Fetched info from server",e),s.restore(e.cmiString,e.data)}).catch(E):Promise.resolve()).then(function(){_&&_.preInitialize&&_.preInitialize();var e=o.getErrorStrings(i),t=o.getFunctionNames(i),n={},r=Date.now(),a=null;"number"==typeof f&&f>0&&(E("Auto-commit enabled",setInterval),a=setInterval(function(){console.log("Ai")},100*f)),n[t.Initialize]=function(){if(E("LMS Initialize"),c===l.RUNNING||c===l.TERMINATED)return u=103,"false";c=l.RUNNING,u=0;var e="true";return _&&_.onInitialize&&(e=_.onInitialize()),"false"===e?(u=102,"false"):"true"},n[t.Terminate]=function(){if(E("LMS Terminate"),!p(112,113))return"false";""===s.exit()&&h(!1).catch(E),"suspend"!==s.exit()&&"time-out"!==s.exit()||(s.entry("resume"),h().catch(E));var e="true";return _&&_.onTerminate&&(e=_.onTerminate()),"false"===e?(u=111,"false"):(clearInterval(a),c=l.TERMINATED,"true")},n[t.GetValue]=function(e){if(E("LMS GetValue",e),!p(122,123))return"";if(!d(e))return"";var t=s.get(e);return void 0===t&&(t="",u=403),E("LMS GetValue returns: ",t),t},n[t.SetValue]=function(e,t){return E("LMS SetValue",e,t),p(132,133)&&d(e)&&g(e)?(s.set(e,t),"true"):"false"},n[t.Commit]=function(){if(E("LMS Commit"),!p(142,143))return"false";h().catch(function(e){u=1e3});var e="true";return _&&_.onCommit&&(e=_.onCommit()),"false"===e?"false":(r=Date.now(),"true")},n[t.GetDiagnostic]=function(i){return E("LMS GetDiagnostic",i),i?e[i]?e[i]:"Uknown error":n[t.GetLastError]()},n[t.GetErrorString]=function(t){return E("LMS GetErrorString",t),e[t]?e[t]:"Uknown error"},n[t.GetLastError]=function(){return 0!==u&&E("LMS GetLastError return",u),u},"1.2"===i?window.API=n:window.API_1484_11=n})},getCmi:function(){return s},getProgressMeasure:function(){return s.get("cmi.progress_measure")},getResults:function(){return s.getResults()}}},function(e,t){e.exports={name:"scorm-rte",version:"1.0.0",description:"'Libs for SCORM interaction with player and lms'",main:"gulpfile.js",dependencies:{"whatwg-fetch":"^2.0.3"},devDependencies:{"babel-core":"^6.24.0","babel-loader":"^6.4.0","babel-plugin-add-module-exports":"^0.2.1","babel-preset-es2015":"^6.22.0",eslint:"^3.17.1","eslint-config-airbnb":"^14.1.0","eslint-loader":"^1.7.0","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^4.0.0","eslint-plugin-react":"^6.10.0","exports-loader":"^0.6.4",gulp:"^3.9.1","gulp-shell":"^0.6.3","imports-loader":"^0.7.1",webpack:"^2.2.1"},scripts:{test:'echo "Error: no test specified" && exit 1',compile:"./node_modules/.bin/webpack"},author:"Alexander Kaminskiy <alex.kaminsky.11@gmail.com>",license:"ISC"}},function(e,t,n){e.exports=n(0)}]);