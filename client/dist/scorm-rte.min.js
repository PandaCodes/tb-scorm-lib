var scormRte=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),o=r(i),a={PARSE_XML:"Error occured while parsing imsmanifest.xml",FORMAT_XML:"Wrong imsmanifest.xml format"},l=null,u=null,s=null,c=null,m=!1,f=function(){if(m&&console){var e;(e=console).log.apply(e,arguments)}};t.default={init:function(e,t,n){return u=document.createElement("iframe"),u.style.width="100%",u.style.height="100%",document.getElementById(e).appendChild(u),m=n.debug,fetch(t+"/imsmanifest.xml").then(function(e){return e.text().then(function(e){l=(new DOMParser).parseFromString(e,"text/xml"),"parsererror"===l.documentElement.nodeName&&f(a.PARSE_XML),s=l.getElementsByTagName("resources")[0].getElementsByTagName("resource"),c=l.getElementsByTagName("organization")[0].getElementsByTagName("item");var r=l.getElementsByTagName("manifest")[0],i=r?r.getAttribute("xmlns:imsss"):"",m=c[0]?c[0].getElementsByTagNameNS(i,"sequencing")[0]:null,d=m?m.getElementsByTagNameNS(i,"objectives")[0]:null,g=d?d.getElementsByTagNameNS(i,"objective"):[];g=[].map.call(g,function(e){return{id:e.getAttribute("objectiveID")}});var p=l.getElementsByTagName("schemaversion")[0].childNodes[0].nodeValue;f("Schema version",p);var v="1.2"===p||"1.1"===p?"1.2":"2004";return o.default.init(Object.assign({},n,{schemaVersion:v,initModel:{objectives:g}})).then(function(){var e=c[0].getAttribute("identifierref"),n=[].find.call(s,function(t){return t.getAttribute("identifier")===e});u.src=t+"/"+n.getAttribute("href")})})})}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.entry=t.exit=t.createModel=t.getFromModel=t.getFunctionNames=t.getErrorStrings=t.getCmiDefault=t.setSchemaVersion=void 0;var i=n(4),o=r(i),a="2004",l=(t.setSchemaVersion=function(e){a="1.2"===e?"1.2":"2004"},{1.2:{"cmi.core.lesson_mode":"normal","cmi.core.entry":"ab-initio","cmi.core.lesson_status":"not attempted","cmi.core.lesson_location":""},2004:{"cmi._version":o.default.version,"cmi.mode":"normal","cmi.entry":"ab-initio","cmi.success_status":"unknown","cmi.completion_status":"not attempted","cmi.location":""}}),u=(t.getCmiDefault=function(){return l[a]},{1.2:{0:"No error"},2004:{0:"No error",101:"General Exception",102:"General Initialization Failure",103:"Already Initialized",104:"Content Instance Terminated",111:"General Termination Failure",112:"Termination Before Initialization",113:"Termination After Termination",122:"Retrieve Data Before Initialization",123:"Retrieve Data After Termination",132:"Store Data Before Initialization",133:"Store Data After Termination",142:"Commit Before Initialization",143:"Commit After Termination",201:"General Argument Error",301:"General Get Failure",351:"General Set Failure",391:"General Commit Failure",401:"Undefined Data Model Element",402:"Unimplemented Data Model Element",403:"Data Model Element Value Not Initialized",404:"Data Model Element Is Read Only",405:"Data Model Element Is Write Only",406:"Data Model Element Type Mismatch",407:"Data Model Element Value Out Of Range",408:"Data Model Dependency Not Established",1e3:"General communication failure"}}),s=(t.getErrorStrings=function(){return u[a]},{2004:{Initialize:"Initialize",Terminate:"Terminate",GetValue:"GetValue",SetValue:"SetValue",Commit:"Commit",GetLastError:"GetLastError",GetErrorString:"GetErrorString",GetDiagnostic:"GetDiagnostic"},1.2:{Initialize:"LMSInitialize",Terminate:"LMSFinish",GetValue:"LMSGetValue",SetValue:"LMSSetValue",Commit:"LMSCommit",GetLastError:"LMSGetLastError",GetErrorString:"LMSGetErrorString",GetDiagnostic:"LMSGetDiagnostic"}});t.getFunctionNames=function(){return s[a]},t.getFromModel=function(e){},t.createModel=function(e){var t=e.objectives,n={};return t&&Array.isArray(t)&&(n["cmi.objectives._children"]="id,score,success_status,completion_status,description",n["cmi.objectives._count"]=t.length,t.map(function(e,t){n["cmi.objectives."+t+".id"]=e.id})),n},t.exit=function(){return"1.2"===a?"cmi.core.exit":"cmi.exit"},t.entry=function(){return"1.2"===a?"cmi.core.entry":"cmi.entry"}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(3),l={NOT_INITIALIZED:"Not Initialized",RUNNING:"Running",TERMINATED:"Terminated"},u=!1,s=null,c=0,m=null,f={},d=/^(cmi||adl)\.(\w|\.)+$/,g=function(e){return 0===(c=0===e.search(d)?0:401)},p=function(e){return c=0,(0,a.stringEndsWith)(e,"._children")&&(c=403),0===c},v=function(e,t){return 0===(c=s===l.NOT_INITIALIZED?e:s===l.TERMINATED?t:0)},E=function(){if(u&&console){var e;(e=console).log.apply(e,arguments)}};t.default={init:function(e){var t=e.dataUrl,n=e.schemaVersion,r=void 0===n?"2004":n,i=e.debug,d=void 0!==i&&i,M=e.autoCommitInterval,b=void 0===M?-1:M,h=e.callbacks,I=e.initModel;s=l.NOT_INITIALIZED,u=d===!0,o.setSchemaVersion(r);var S=o.getCmiDefault(),y=o.createModel(I);return E("Init model",y),m=Object.assign({},S,y),(t?fetch(t).then(function(e){return e.json()}).then(function(e){return JSON.parse(e)}).then(function(e){E("Fetched cmi from server",e),m=Object.assign({},S,y,e)}).catch(E):Promise.resolve()).then(function(){h&&h.preInitialize&&h.preInitialize();var e=o.getErrorStrings(),n=o.getFunctionNames(),i={},u=Date.now(),d=null;"number"==typeof b&&b>0&&(E("Auto-commit enabled",setInterval),d=setInterval(function(){console.log("Ai")},100*b)),i[n.Initialize]=function(){if(E("LMS Initialize"),s===l.RUNNING||s===l.TERMINATED)return c=103,"false";s=l.RUNNING,c=0;var e="true";return h&&h.onInitialize&&(e=h.onInitialize()),"false"===e?(c=102,"false"):"true"},i[n.Terminate]=function(){if(E("LMS Terminate"),!v(112,113))return"false";""===f[o.exit()]&&(0,a.post)(t,"").catch(E),"suspend"!==f[o.exit()]&&"time-out"!==f[o.exit()]||i[n.Commit]();var e="true";return h&&h.onTerminate&&(e=h.onTerminate()),"false"===e?(c=111,"false"):(clearInterval(d),s=l.TERMINATED,"true")},i[n.GetValue]=function(e){if(E("LMS GetValue",e),!v(122,123))return"";if(!g(e))return"";var t=m[e];return void 0===t&&(t="",c=403),E("LMS GetValue returns: ",t),t},i[n.SetValue]=function(e,t){return E("LMS SetValue",e,t),v(132,133)&&g(e)&&p(e)?(f[e]=t,"true"):"false"},i[n.Commit]=function(){if(E("LMS Commit",f),!v(142,143))return"false";Object.assign(m,f),(0,a.post)(t,JSON.stringify(m)).catch(E);var e="true";return h&&h.onCommit&&(e=h.onCommit()),"false"===e?"false":(u=Date.now(),f={},"true")},i[n.GetDiagnostic]=function(t){return E("LMS GetDiagnostic",t),t?e[t]?e[t]:"Uknown error":i[n.GetLastError]()},i[n.GetErrorString]=function(t){return E("LMS GetErrorString",t),e[t]?e[t]:"Uknown error"},i[n.GetLastError]=function(){return 0!==c&&E("LMS GetLastError return",c),c},"1.2"===r?window.API=i:window.API_1484_11=i})},getDataModel:function(){return Object.assign({},m)},getProgressMeasure:function(){return m["cmi.progress_measure"]},getResults:function(){}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.post=function(e,t){return e?fetch(e,{method:"POST",body:t}):Promise.resolve()},t.stringEndsWith=function(e,t){return e.length>=t.length&&e.substr(e.length-t.length)===t}},function(e,t){e.exports={name:"scorm-rte",version:"1.0.0",description:"'Libs for SCORM interaction with player and lms'",main:"gulpfile.js",dependencies:{"whatwg-fetch":"^2.0.3"},devDependencies:{"babel-core":"^6.24.0","babel-loader":"^6.4.0","babel-plugin-add-module-exports":"^0.2.1","babel-preset-es2015":"^6.22.0",eslint:"^3.17.1","eslint-config-airbnb":"^14.1.0","eslint-loader":"^1.7.0","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^4.0.0","eslint-plugin-react":"^6.10.0","exports-loader":"^0.6.4",gulp:"^3.9.1","gulp-shell":"^0.6.3","imports-loader":"^0.7.1",webpack:"^2.2.1"},scripts:{test:'echo "Error: no test specified" && exit 1',compile:"./node_modules/.bin/webpack"},author:"Alexander Kaminskiy <alex.kaminsky.11@gmail.com>",license:"ISC"}},function(e,t,n){e.exports=n(0)}]);