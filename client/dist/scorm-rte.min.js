var scormRTE=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){if(!e)return null;var i=n?e.getElementsByTagNameNS(n,t)[0]:e.getElementsByTagName(t)[0];return i?i.childNodes[0].nodeValue:null}function o(e){var t=e?e.getElementsByTagNameNS(b.imsss,"sequencing")[0]:null,n=t?t.getElementsByTagNameNS(b.imsss,"objectives")[0]:null,i=n?n.getElementsByTagNameNS(b.imsss,"primaryObjective")[0]:null,o=n?n.getElementsByTagNameNS(b.imsss,"objective"):[],a=[].map.call(o,function(e){return{id:e.getAttribute("objectiveID")}}),s=r(i,"minNormalizedMeasure",b.imsss),c=t?t.getElementsByTagNameNS(b.imsss,"limitConditions")[0]:null;return{scaledPassingScore:s,objectives:a,maxTimeAllowed:c?c.getAttribute("attemptAbsoluteDurationLimit"):null}}function a(e){var t=r(e,"dataFromLMS",b.adlcp),n=r(e,"timeLimitAction",b.adlcp),i=r(e,"completionThreshold",b.adlcp),a=r(e,"masteryscore",b.adlcp),s=r(e,"maxTimeAllowed",b.adlcp);return Object.assign({timeLimitAction:n,maxTimeAllowed:s,masteryScore:a,completionThreshold:i,launchData:t},o(e))}function s(e){var t=e.getAttribute("identifierref"),n=e.getAttribute("parameters")||"";return g+"/"+[].find.call(v,function(e){return e.getAttribute("identifier")===t}).getAttribute("href")+n}Object.defineProperty(t,"__esModule",{value:!0});var c=n(3),l=i(c),u=n(4),m=i(u),d={PARSE_XML:"Error occured while parsing imsmanifest.xml",FORMAT_XML:"Wrong imsmanifest.xml format"},f=null,p=null,v=null,_=null,g=null,h=!1,b={},y=function(){if(h&&console){var e;(e=console).log.apply(e,arguments)}};t.default={init:function(e,t,n){return g="/"===t[t.length-1]?t.slice(0,-1):t,p=document.createElement("iframe"),p.style.width="100%",p.style.height="100%",document.getElementById(e).appendChild(p),h=n.debug,fetch(g+"/imsmanifest.xml").then(function(e){return e.text().then(function(e){f=(new DOMParser).parseFromString(e,"text/xml"),"parsererror"===f.documentElement.nodeName&&y(d.PARSE_XML);var t=r(f,"schemaversion");y("Schema version",t);var i="1.2"===t||"1.1"===t?"1.2":"2004",o=f.getElementsByTagName("manifest")[0];b.imsss=o?o.getAttribute("xmlns:imsss"):"",b.adlcp=o?o.getAttribute("xmlns:adlcp"):"",v=f.getElementsByTagName("resources")[0].getElementsByTagName("resource"),_=new m.default(f.getElementsByTagName("organization")[0]);var c=_.current(),u=Object.assign({},n.initModel||{},a(c));return l.default.init(Object.assign({},n,{schemaVersion:i,initModel:u,callbacks:{onTerminate:function(){p.src=""}}})).then(function(){p.src=s(c)})})})},previous:function(){var e=_.shiftPrev();if(!e)throw new Error("No previous item provided");p.src=s(e)},continue:function(){var e=_.shiftNext();if(!e)throw new Error("No next item provided");p.src=s(e)},exit:function(){},abandon:function(){},hasPrevious:function(){return _.hasPrev()},hasContinue:function(){return _.hasNext()},hasExit:function(){return!1},hasAbandon:function(){return!1}},e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=void 0,n=void 0;if("1.2"===_){var i=e?"cmi.objectives."+e+".status":"cmi.core.lesson_status";t=["browsed","incomplete","failed"].indexOf(v[i])>=0?"incomplete":["passed","completed"].indexOf(v[i])>=0?"completed":"unknown",n=["passed","failed"].indexOf(v[i])>=0?v[i]:"unknown"}else{var r=e?"cmi.objectives."+e+".":"cmi.";t=v[r+"completion_status"],n=v[r+"success_status"]}return[t,n]}function o(){var e=v["cmi.objectives._count"],t=[];if(!e||!Number.isInteger(e))return t;for(var n=0;n<e;n+=1){var i=b(n),r=d(i,2),o=r[0],a=r[1];t.push({id:v["cmi.objectives."+n+".id"],score:{raw:v["cmi.objectives."+n+".score.raw"],min:v["cmi.objectives."+n+".score.min"],max:v["cmi.objectives."+n+".score.max"]},completion_status:o,success_status:a,description:v["cmi.objectives."+n+".description"]||""})}return t}function a(){var e=v[h[_].session_time];if(!e)return 0;if("1.2"===_)return e.split(":").reduceRight(function(e,t){return 1*e+60*t});var t=e.match(/^PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)$/),n=d(t,4),i=n[1],r=n[2],o=n[3];return 3600*(i||0)+60*(r||0)+1*(o||0)}function s(e){var t=e.objectives,n=e.launchData,i=e.scaledPassingScore,r=e.masteryScore,o=e.completionThreshold,a=e.timeLimitAction,s=e.maxTimeAllowed,c=e.totalTime,l=e.learnerId,u=e.learnerName,m={};return o&&"2004"===_&&(m["cmi.completion_threshold"]=o),s&&(m[h[_].max_time_allowed]=s),a&&(m[h[_].time_limit_action]=a),l&&(m[h[_].learner_id]=u),u&&(m[h[_].learner_name]=u),c&&(m[h[_].total_time]=c),n&&(m["cmi.launch_data"]=n),(i||r)&&(m[h[_].passing_score]=i||r),t&&Array.isArray(t)&&(m["cmi.objectives._children"]="id,score,success_status,completion_status,description",m["cmi.objectives._count"]=t.length,t.map(function(e,t){return m["cmi.objectives."+t+".id"]=e.id,null})),m}function c(e,t){_="1.2"===e?"1.2":"2004";var n=s(t);v=Object.assign({},g[_],n)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v=Object.assign({},JSON.parse(e),s({totalTime:t.total_time}))}function u(){var e=h[_],t=r(),n=d(t,2),i=n[0],s=n[1];return{score_raw:v[e.score_raw],score_max:v[e.score_max],score_min:v[e.score_min],score_scaled:v["cmi.score.scaled"],session_time:a(),total_time:v[e.total_time],success_status:s,completion_status:i,objectives:o()}}function m(){var e=void 0;switch(v[h[_].exit]){case"":e=!1;break;case"suspend":case"logout":v[h[_].entry]="resume",e=!0;break;case"normal":case"time-out":default:v[h[_].entry]="",e=!0}return{save:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getJSONString=t.set=t.get=void 0;var d=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.init=c,t.restore=l,t.getResults=u,t.exit=m;var f=n(5),p=i(f),v={},_="2004",g={1.2:{"cmi.core.lesson_mode":"normal","cmi.core.credit":"credit","cmi.core.entry":"ab-initio","cmi.core.lesson_status":"not attempted","cmi.core.lesson_location":"","cmi.core.total_time":0,"cmi.student_data.time_limit_action":"continue,no message","cmi.interactions._count":0},2004:{"cmi._version":p.default.version,"cmi.mode":"normal","cmi.credit":"credit","cmi.entry":"ab-initio","cmi.success_status":"unknown","cmi.completion_status":"unknown","cmi.location":"","cmi.total_time":0,"cmi.time_limit_action":"continue,no message","cmi.interactions._count":0}},h={1.2:{enry:"cmi.core.entry",exit:"cmi.core.exit",learner_id:"cmi.core.student_id",learner_name:"cmi.core.student_name",max_time_allowed:"cmi.max_time_allowed",passing_score:"cmi.student_data.mastery_score",score_raw:"cmi.core.score.raw",score_max:"cmi.core.score.max",score_min:"cmi.core.score.min",session_time:"cmi.core.session_time",time_limit_action:"cmi.student_data.time_limit_action",total_time:"cmi.core.total_time"},2004:{entry:"cmi.entry",exit:"cmi.exit",learner_id:"cmi.learner_id",learner_name:"cmi.learner_name",max_time_allowed:"cmi.student_data.max_time_allowed",passing_score:"cmi.scaled_passing_score",score_raw:"cmi.score.raw",score_max:"cmi.score.max",score_min:"cmi.score.min",session_time:"cmi.session_time",time_limit_action:"cmi.time_limit_action",total_time:"cmi.total_time"}},b=r;t.get=function(e){return v[e]},t.set=function(e,t){/^cmi\.objectives\.([1-9]\d*|0)\.id$/.test(e)&&!v[e]&&(v["cmi.objectives._count"]=(v["cmi.objectives._count"]||0)+1),/^cmi.interactions\.([1-9]\d*|0)\.id$/.test(e)&&!v[e]&&(console.log("int ID"),v["cmi.interactions._count"]=(v["cmi.interactions._count"]||0)+1),v[e]=t},t.getJSONString=function(){return JSON.stringify(v)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={1.2:{},2004:{0:0,101:101,102:102,103:103,104:104,111:111,112:112,113:113,122:122,123:123,132:132,133:133,142:142,143:143,201:201,301:301,351:351,391:391,401:401,402:402,403:403,404:404,405:405,406:406,407:407,408:408,1e3:1e3}},r={1.2:{0:"No error",101:"General Exception",201:"Invalid argument error",202:"Element cannot have children",203:"Element not an array. Cannot have count",301:"Not initialized",401:"Not implemented error",402:"Invalid set value, element is a keyword",403:"Element is read only",404:"Element is write only",405:"Incorrect Data Type"},2004:{0:"No error",101:"General Exception",102:"General Initialization Failure",103:"Already Initialized",104:"Content Instance Terminated",111:"General Termination Failure",112:"Termination Before Initialization",113:"Termination After Termination",122:"Retrieve Data Before Initialization",123:"Retrieve Data After Termination",132:"Store Data Before Initialization",133:"Store Data After Termination",142:"Commit Before Initialization",143:"Commit After Termination",201:"General Argument Error",301:"General Get Failure",351:"General Set Failure",391:"General Commit Failure",401:"Undefined Data Model Element",402:"Unimplemented Data Model Element",403:"Data Model Element Value Not Initialized",404:"Data Model Element Is Read Only",405:"Data Model Element Is Write Only",406:"Data Model Element Type Mismatch",407:"Data Model Element Value Out Of Range",408:"Data Model Dependency Not Established",1e3:"General communication failure"}},o=(t.getErrorStrings=function(e){return r[e]},t.getErrorCodes=function(e){return i[e]},{2004:{Initialize:"Initialize",Terminate:"Terminate",GetValue:"GetValue",SetValue:"SetValue",Commit:"Commit",GetLastError:"GetLastError",GetErrorString:"GetErrorString",GetDiagnostic:"GetDiagnostic"},1.2:{Initialize:"LMSInitialize",Terminate:"LMSFinish",GetValue:"LMSGetValue",SetValue:"LMSSetValue",Commit:"LMSCommit",GetLastError:"LMSGetLastError",GetErrorString:"LMSGetErrorString",GetDiagnostic:"LMSGetDiagnostic"}});t.getFunctionNames=function(e){return o[e]}},function(e,t,n){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(1),s=i(a),c={NOT_INITIALIZED:"Not Initialized",RUNNING:"Running",TERMINATED:"Terminated"},l=null,u=0,m=/^(cmi||adl)\.(\w|\.)+$/,d=function(e,t){return e.length>=t.length&&e.substr(e.length-t.length)===t},f=function(e){if(!e)return!1;var t=e.match(/^(?:https?:\/\/|\/\/)?([^\/]+)\//),n=t&&t[1];return!n||".."===n||"."===n||(n=n.split(":"),window.location.hostname===n[0]&&(window.location.port||"80")===(n[1]||"80"))},p=function(e){return 0===(u=0===e.search(m)?0:401)},v=function(e){return u=0,d(e,"._children")&&(u=403),0===u},_=function(e,t){return 0===(u=l===c.NOT_INITIALIZED?e:l===c.TERMINATED?t:0)};t.default={init:function(e){var t=e.dataUrl,n=e.postHeaders,i=e.schemaVersion,r=void 0===i?"2004":i,a=e.debug,m=void 0!==a&&a,d=(e.autoCommitInterval,e.callbacks),g=e.initModel;l=c.NOT_INITIALIZED;var h=function(){if(m&&console){var e;(e=console).log.apply(e,arguments)}},b=f(t),y=b?Object.assign({Accept:"application/json","Content-Type":"application/json"},n):n;h("Same host:",b),h(t);var x=t?function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return fetch(t,{headers:y,credentials:"same-origin",method:"POST",body:JSON.stringify({scorm_stat:{cmiString:e?s.getJSONString():"",results:s.getResults()}})})}:function(){return Promise.resolve()};return s.init(r,g),(t?fetch(t,{headers:{Accept:"application/json"},credentials:"same-origin"}).then(function(e){return e.json()}).then(function(e){return e.scorm_stat}).then(function(e){h("Fetched info from server",e),s.restore(e.cmiString,e.data)}).catch(h):Promise.resolve()).then(function(){d&&d.preInitialize&&d.preInitialize();var e=o.getErrorStrings(r),t=o.getErrorCodes(r),n=o.getFunctionNames(r),i={};i[n.Initialize]=function(){if(h("LMS Initialize"),l===c.RUNNING||l===c.TERMINATED)return u=103,"false";l=c.RUNNING,u=0;var e="true";return d&&d.onInitialize&&(e=d.onInitialize()),"false"===e?(u=102,"false"):"true"},i[n.Terminate]=function(){if(h("LMS Terminate"),!_(112,113))return"false";x(s.exit().save).catch(h);var e="true";return d&&d.onTerminate&&(e=d.onTerminate()),"false"===e?(u=111,"false"):(l=c.TERMINATED,"true")},i[n.GetValue]=function(e){if(h("LMS GetValue",e),!_(122,123))return"";if(!p(e))return"";var t=s.get(e);return void 0===t&&(t="","2004"===r&&(u=403)),h("LMS GetValue returns: ",t),t},i[n.SetValue]=function(e,t){return h("LMS SetValue",e,t),_(132,133)&&p(e)&&v(e)?(s.set(e,t),"true"):"false"},i[n.Commit]=function(){if(h("LMS Commit"),!_(142,143))return"false";x().catch(function(e){u=1e3});var e="true";return d&&d.onCommit&&(e=d.onCommit()),"false"===e?"false":"true"},i[n.GetDiagnostic]=function(t){return h("LMS GetDiagnostic",t),t?e[t]?e[t]:"Uknown error":i[n.GetLastError]()},i[n.GetErrorString]=function(t){return h("LMS GetErrorString",t),e[t]?e[t]:"Uknown error"},i[n.GetLastError]=function(){var e=t[u]||u;return 0!==e&&h("LMS GetLastError return",e),e},"1.2"===r?window.API=i:window.API_1484_11=i})},getCmi:function(){return s},getProgressMeasure:function(){return s.get("cmi.progress_measure")},getResults:function(){return s.getResults()}},e.exports=t.default},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t){var n=t.parent,r=t.value,o=t.index;i(this,e),this.parent=n,this.index=o,this.value=r}return r(e,[{key:"setChildren",value:function(e){return this.children=e,this}}]),e}(),a=function e(t){return t.children?e(t.children[0]):t},s=function e(t){return t.children?e(t.children[t.children.length-1]):t},c=function(){function e(t){if(i(this,e),!t||!t.children)throw new Error("Bad organization tag format");var n=function e(t,n,i){var r=new o({value:t,parent:n,index:i}),a=[].map.call(t.children||[],function(e){return"item"===e.tagName?e:null}).filter(function(e){return null!==e}).map(function(t,n){return e(t,r,n)});return 0===a.length?r:r.setChildren(a)};this._root=n(t,null,0),this._pointer=a(this._root)}return r(e,[{key:"current",value:function(){return this._pointer.value}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function e(t){return t.parent?t.parent.children.length===t.index+1?e(t.parent):a(t.parent.children[t.index+1]):null},n=t(this._pointer);return e&&(this._pointer=n||this._pointer),n&&n.value}},{key:"prev",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function e(t){return t.parent?0===t.index?e(t.parent):s(t.parent.children[t.index-1]):null},n=t(this._pointer);return e&&(this._pointer=n||this._pointer),n&&n.value}},{key:"hasNext",value:function(){return!!this.next()}},{key:"hasPrev",value:function(){return!!this.prev()}},{key:"shiftNext",value:function(){return this.next(!0)}},{key:"shiftPrev",value:function(){return this.prev(!0)}}]),e}();t.default=c,e.exports=t.default},function(e,t){e.exports={name:"scorm-rte",version:"1.0.0",description:"'Libs for SCORM interaction with player and lms'",main:"gulpfile.js",dependencies:{"whatwg-fetch":"^2.0.3"},devDependencies:{"babel-core":"^6.24.0","babel-loader":"^6.4.0","babel-plugin-add-module-exports":"^0.2.1","babel-preset-es2015":"^6.22.0",eslint:"^3.17.1","eslint-config-airbnb":"^14.1.0","eslint-loader":"^1.7.0","eslint-plugin-import":"^2.2.0","eslint-plugin-jsx-a11y":"^4.0.0","eslint-plugin-react":"^6.10.0","exports-loader":"^0.6.4",gulp:"^3.9.1","gulp-shell":"^0.6.3","imports-loader":"^0.7.1",webpack:"^2.2.1"},scripts:{test:'echo "Error: no test specified" && exit 1',compile:"./node_modules/.bin/webpack"},author:"Alexander Kaminskiy <alex.kaminsky.11@gmail.com>",license:"ISC"}},function(e,t,n){e.exports=n(0)}]);